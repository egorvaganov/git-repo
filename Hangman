from random import choice
from string import ascii_lowercase

print('H A N G M A N')


def start(action):
    if action == 'play':
        hangman()
    if action == 'exit':
        exit()


def hangman():
    language = ['python', 'java', 'kotlin', 'javascript']
    secret = choice(language)
    word = '-' * len(secret)
    stock = []
    lives = 8
    while word != secret:
        print('\n', word)
        letter = input('Input a letter: ')
        stock += [letter]
        if len(letter) > 1 or len(letter) == 0:
            print('You should input a single letter')
        elif letter not in ascii_lowercase:
            print('It is not an ASCII lowercase letter')
        elif stock.count(letter) > 1:
            print('You already typed this letter')
        elif letter in secret:
            for i, item in enumerate(secret):
                if item == letter:
                    word = list(word)
                    word[i] = letter
                    word = ''.join(word)
        elif letter not in secret:
            print('No such letter in the word')
            lives -= 1
            if lives < 1:
                print('You are hanged!')
                return start(input('\nType "play" to play the game, "exit" to quit: '))
    if word == secret:
        print(f'\n{word}\nYou guessed the word!\nYou survived!')
        return start(input('\nType "play" to play the game, "exit" to quit: '))


start(input('Type "play" to play the game, "exit" to quit: '))
